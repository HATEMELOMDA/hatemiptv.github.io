
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>IPTV - قنوات عربية (429 قناة)</title>
    <style>
        body { background-color: #000; color: #0f0; font-family: Arial, sans-serif; text-align: center; }
        h1 { border-bottom: 1px solid #0f0; padding-bottom: 10px; }
        a { display: block; margin: 10px; color: #0ff; text-decoration: none; font-size: 18px; }
        video { width: 90%; height: auto; margin-top: 20px; background: #222; }
    </style>
</head>
<body>
    <h1>📺 IPTV - قنوات عربية (429 قناة)</h1>
    <video id="videoPlayer" controls autoplay></video>
    <div id="channelList"></div>

    <script>
        const m3uUrl = "https://iptv-org.github.io/iptv/languages/ara.m3u";
        const videoPlayer = document.getElementById("videoPlayer");
        const channelList = document.getElementById("channelList");

        fetch(m3uUrl)
            .then(response => response.text())
            .then(data => {
                const lines = data.split('\n');
                for (let i = 0; i < lines.length; i++) {
                    if (lines[i].startsWith('#EXTINF')) {
                        const title = lines[i].split(',')[1];
                        const url = lines[i + 1];
                        const link = document.createElement('a');
                        link.textContent = title;
                        link.href = "#";
                        link.onclick = () => {
                            videoPlayer.src = url;
                            videoPlayer.play();
                            return false;
                        };
                        channelList.appendChild(link);
                    }
                }
            })
            .catch(error => {
                channelList.innerHTML = "❌ فشل في تحميل القنوات";
            });
    </script>
</body>
</html>
