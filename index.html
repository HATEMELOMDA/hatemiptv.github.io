
<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>IPTV قنوات عربي (429 قناة)</title>
    <style>
        body { background-color: black; color: lightgreen; font-family: sans-serif; text-align: center; }
        select { font-size: 18px; padding: 10px; margin: 20px; }
        video { width: 80%; height: auto; margin-top: 20px; }
    </style>
</head>
<body>
    <h1>IPTV قنوات عربي (429 قناة)</h1>
    <select id="channelSelect" onchange="playChannel()">
        <option value="">اختر قناة</option>
    </select>
    <video id="videoPlayer" controls autoplay></video>
    <script>
        async function fetchChannels() {
            const res = await fetch('channels.m3u');
            const text = await res.text();
            const lines = text.split('\n');
            const select = document.getElementById('channelSelect');
            for (let i = 0; i < lines.length; i++) {
                if (lines[i].startsWith('#EXTINF')) {
                    const name = lines[i].split(',')[1];
                    const url = lines[i+1];
                    const option = document.createElement('option');
                    option.text = name;
                    option.value = url;
                    select.appendChild(option);
                }
            }
        }

        function playChannel() {
            const video = document.getElementById('videoPlayer');
            const url = document.getElementById('channelSelect').value;
            video.src = url;
            video.play();
        }

        fetchChannels();
    </script>
</body>
</html>
